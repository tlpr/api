<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>The Las Pegasus Radio API - Response codes</title>
<style type="text/css">
	body { background: #121212;	}
	* { color: #e9e9e9;	}
</style>
</head>
<body>

<h1>Response codes</h1>
<pre>
{

	"status":      boolean,  (true if request was processed successfully, false if any error happened)
	"status-text": string,   (human-readable message of what did just happen)
	"code":        string    (short text that lets you manage api response in your software more easily)
	
}
</pre>
<h5>This file is a list of possible "code" responses and explanations of what they mean.</h5>


<ul>
<li id="global">
	<h4><a href="#global">global</a></h4>
	<ul>
	<li><b>method-not-accepted</b> - HTTP error, API accepts only GET, POST, PUT and DELETE requests.</li>
	<li><b>not-enough-parameters</b> - this one's self-explainatory, similar to previous one. required parameters are not present in the request.</li>
	<li><b>sql-injection-attempt</b> - blocked SQL injection attack</li>
	<li><b>db-error</b> - unexpected database error</li>
	</ul>
</li>
<li id="user">
	<h4><a href="#user">user.php</a> / <a href="#validate">validate.php</a></h4>
	<ul>
	<li><b>user-id-required</b> - "id" variable not found in GET request.</li>
	<li><b>user-id-not-a-number</b> - "id" variable has to be numeric</li>
	<li><b>user-not-exist</b> - requested user does not exist in the database</li>
	<li><b>user-data-success</b> - user has been found and its data is in "user-data" variable</li>
	<li><b>user-username-long</b> - given username is too long (more than 20 characters)</li>
	<li><b>user-username-short</b> - given username is too short (less than 4 characters)</li>
	<li><b>user-email-incorrect</b> - given e-mail address is not correct</li>
	<li><b>user-email-long</b> - given e-mail address is too long (more than 40 characters)</li>
	<li><b>user-email-short</b> - given e-mail address is too short (less than 4 characters)</li>
	<li><b>user-password-long</b> - given password is too long (more than 64 characters)</li>
	<li><b>user-password-short</b> - given password is too weak (less than 6 characters)</li>
	<li><b>user-already-exist</b> - user with given username already exist</li>
	<li><b>user-registered</b> - user has been created without any issue</li>
	<li><b>user-wrong-credentials</b> - given login credentials are not valid</li>
	<li><b>user-valid-credentials</b> - given login credentails are valid</li>
	<li><b>user-removed</b> - user with given ID has been removed</li>
	<li><b>user-nothing-to-change</b> - no changes has been requested</li>
	<li><b>user-updated</b> - user information has been updated</li>
	<li><b>user-totp-valid</b> - given 2FA totp code is valid</li>
	<li><b>user-totp-wrong</b> - given 2FA totp code is not valid</li>
	</ul>
</li>
<li>
	<h4><a href="#invite">invite.php</a></h4>
	<ul>
		<li><b>invite-success</b> - request processed successfully</li>
		<li><b>invite-no-id</b> - user's "id" not specified in request</li>
		<li><b>invite-args-missing</b> - missing either or all "code" and "user_id" in request</li>
		<li><b>invite-code-invalid</b> - given incorrect invite code</li>
		<li><b>invite-in-use</b> - given invite code is already in use</li>
	</ul>
</li>
<li>
	<h4><a href="#song">song.php</a></h4>
	<ul>
	<li><b>song-success</b> - request processed successfully</li>
	<li><b>song-not-found</b> - song does not exist in the database</li>
	<li><b>song-icecast-error</b> - could not connect and/or retrieve data from Icecast</li>
	<li><b>song-incorrect-parameter</b> - cannot find a song using this parameter</li>
	<li><b>song-incorrect-length</b> - song title has invalid length</li>
	<li><b>album-incorrect-length</b> - album name has invalid length</li>
	<li><b>song-id-not-a-number</b> - "song_id" variable has to be numeric</li>
	</ul>
</li>
<li>
	<h4><a href="#like">like.php</a></h4>
	<ul>
	<li><b>like-success</b> - request processed successfully</li>
	<li><b>like-invalid-parameters</b> - missing or incorrect request parameter combination</li>
	<li><b>like-id-not-numeric</b> - either or all "user_id", "song_id" and "status" are not numeric</li>
	<li><b>like-song-not-liked</b> - song is not liked yet by the specified user</li>
	</ul>
</li>
</ul>

</body>
</html>
